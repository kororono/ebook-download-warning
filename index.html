<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Download Warning</title>
    <style>
        body {
            background-color: black;
            color: white;
            text-align: center;
            font-family: Arial, sans-serif;
        }
        .info-box {
            border: 2px solid white;
            padding: 20px;
            margin: 20px auto;
            width: 80%;
            max-width: 500px;
        }
        h1 {
            color: red;
        }
        p {
            margin: 10px 0;
        }
    </style>
    <script>
        async function fetchIPandLocation() {
            try {
                const ipResponse = await fetch('https://api64.ipify.org?format=json');
                const ipData = await ipResponse.json();
                document.getElementById('user-ip').innerText = ipData.ip;

                const locationResponse = await fetch(`https://ipinfo.io/${ipData.ip}/json?token=1fa43bba8252f2`);
                const locationData = await locationResponse.json();

                if (locationData && locationData.city && locationData.region && locationData.country && locationData.loc && locationData.org) {
                    document.getElementById('location-info').innerHTML = `
                        City: ${locationData.city} <br>
                        Region: ${locationData.region} <br>
                        Country: ${locationData.country} <br>
                        Latitude, Longitude: ${locationData.loc} <br>
                        ISP: ${locationData.org}`;
                    
                    const isInKenya = locationData.country === "KE";
                    document.getElementById('vpn-info').innerText = isInKenya
                        ? "Your location is consistent with the expected region."
                        : "It appears you are not accessing from Kenya. This might indicate the use of a VPN.";
                } else {
                    document.getElementById('location-info').innerText = "";
                    document.getElementById('vpn-info').innerText = "";
                }
            } catch (error) {
                console.error('Error fetching IP or location:', error);
                document.getElementById('location-info').innerText = "";
                document.getElementById('vpn-info').innerText = "";
            }
        }

        function redirectToDownload() {
            alert("Warning: Your IP address has been recorded. Sharing this document will lead to disqualification. We have your contact details and will take action if rules are violated.");
            window.location.href = "https://example.com/your-download-link.pdf";
        }

        window.onload = fetchIPandLocation;
    </script>
</head>
<body>
    <h1>Warning!</h1>
    <div class="info-box">
        <p>Your IP address: <span id="user-ip">[Fetching IP...]</span></p>
        <p id="location-info"></p>
        <p id="vpn-info"></p>
        <p><strong>Warning:</strong> Sharing this document will result in immediate disqualification. We have your email and phone number, and we will send you a message if you break the rules. We also know if you're using a VPN to hide your location. Don't risk it.</p>
    </div>
    <button onclick="redirectToDownload()">Continue to Download</button>
</body>
</html>
